import { ApiClientFactory } from '@/api/api.client'
import type { Get{{pascalCase resource}} } from '@{{feature}}/domain/actions/{{resource}}/get-{{resource}}.action'
import { type {{pascalCase resource}}GetApiResponse } from '@{{feature}}/infrastructure/interfaces/{{resource}}/get-response'
import { map{{pascalCase resource}}GetApiResponseTo{{pascalCase resource}} } from '@{{feature}}/infrastructure/mappers/{{resource}}.mapper'

const apiClient = ApiClientFactory.createAuthClient()

export const get{{pascalCase resource}}: Get{{pascalCase resource}} = async (id: string) => {
  const response = await apiClient.get<{{pascalCase resource}}GetApiResponse>(
    `/{{resource}}s/${id}`,
  )
  return map{{pascalCase resource}}GetApiResponseTo{{pascalCase resource}}(response.data)
}
