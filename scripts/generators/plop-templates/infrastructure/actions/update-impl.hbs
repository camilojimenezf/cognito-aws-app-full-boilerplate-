import { ApiClientFactory } from '@/api/api.client'
import type { Update{{pascalCase name}} } from '@{{name}}/domain/actions/{{name}}/update-{{name}}.action'
import type { Update{{pascalCase name}}Dto } from '@{{name}}/domain/dtos/{{name}}/update-{{name}}.dto'
import { type {{pascalCase name}}UpdateResponse } from '@{{name}}/infrastructure/interfaces/{{name}}/update-response'
import { map{{pascalCase name}}UpdateResponse } from '@{{name}}/infrastructure/mappers/{{name}}.mapper'

const apiClient = ApiClientFactory.createAuthClient()

export const update{{pascalCase name}}: Update{{pascalCase name}} = async (
  input: Update{{pascalCase name}}Dto
) => {
  const response = await apiClient.put<{{pascalCase name}}UpdateResponse>(
    `/{{name}}s/${input.id}`,
    input,
  )
  return map{{pascalCase name}}UpdateResponse(response.data)
}
